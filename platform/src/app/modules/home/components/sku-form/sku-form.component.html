<div class="container" [formGroup]="formParent">

  <div formArrayName="sku" class="sku-container" *ngFor="let sku of formParent.get('sku').controls; let i = index;">

    <h5>SKU {{i}}</h5>

    <div class="fields" [formGroupName]="i">

      <div class="section sub1">
        <mat-form-field>
          <input matInput placeholder="Tiempo de producciÃ³n" type="number" [id]="'ptime'+i" formControlName="productionTime" />
        </mat-form-field>

        <mat-form-field>
          <input matInput placeholder="Volumen" type="text" [id]="'vol'+i" formControlName="volume" />
        </mat-form-field>
      </div>

      <div class="section sub2">
        <mat-form-field>
          <mat-select placeholder="Selecciona" formControlName="description" (selectionChange)="selectDropDown($event.value, i)">
            <mat-option *ngFor="let sku of products" [value]="sku.id">{{sku.product}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="section sub3">
        <div class="sub-section">
          <mat-form-field>
            <input matInput placeholder="Desperdicio (kg)" type="text" [id]="'desp'+i" formControlName="waste" />
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="Retenciones (Cjs)" type="text" [id]="'ret'+i" formControlName="retentions" />
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="Reproceso (Kg)" type="text" [id]="'rep'+i" formControlName="reprocess" />
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="TLD" readonly type="text" formControlName="tld" />
          </mat-form-field>

        </div>

        <div class="sub-section">
          <mat-form-field>
            <input matInput placeholder="OEE (%)" type="text" readonly formControlName="oee">
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="GE (%)" type="text" readonly formControlName="ge">
          </mat-form-field>
          
          <mat-form-field>
            <input matInput placeholder="kg/min" type="text" readonly formControlName="kgMin">
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="kg/cj" type="text" readonly formControlName="kgCj">
          </mat-form-field>
        </div>
      </div>

      <div class="section sub4">
          <button class="btn" style="margin-left:15px" (click)="addParo(i)" [disabled]="formParent.get('sku').controls[i].get('stoppages').invalid">Paro NO
              Planeado</button>
      </div>

      <div class="section sub5">
        <app-stoppages-form [form]="formParent.get('sku').controls[i]"></app-stoppages-form>
      </div>

      <div class="section sub6">
        <mat-form-field>
          <input matInput placeholder="Perdida de tiempo" type="text" readonly formControlName="lossSpeed">
        </mat-form-field>
      </div>
    </div>
  </div>
</div>